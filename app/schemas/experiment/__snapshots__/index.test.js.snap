// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`experiment schema should filter as expected 1`] = `
Object {
  "$id": undefined,
  "$schema": undefined,
  "definitions": Object {
    "DrugPhase": Object {
      "properties": Object {
        "start": Object {
          "format": "date-time",
          "title": "Date started",
          "type": "string",
        },
        "stop": Object {
          "format": "date-time",
          "title": "Date stopped",
          "type": "string",
        },
      },
      "title": "Drug Phase",
      "type": "object",
    },
    "Genotyping": Object {
      "properties": Object {
        "genexpert": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "Genexpert",
          "type": "string",
        },
        "hain": Object {
          "enum": Array [
            "INH/RIF test",
            "Fluoroquinolone/aminoglycoside/ethambutol test",
            "Both",
            "Not tested",
          ],
          "title": "HAIN",
          "type": "string",
        },
        "hainAm": Object {
          "enum": Array [
            "AM sensitive",
            "AM resistant",
            "AM inconclusive",
            "Not tested",
          ],
          "title": "HAIN AM",
          "type": "string",
        },
        "hainEth": Object {
          "enum": Array [
            "ETH sensitive",
            "ETH resistant",
            "ETH inconclusive",
            "Not tested",
          ],
          "title": "HAIN ETH",
          "type": "string",
        },
        "hainFl": Object {
          "enum": Array [
            "FL sensitive",
            "FL resistant",
            "FL inconclusive",
            "Not tested",
          ],
          "title": "HAIN FL",
          "type": "string",
        },
        "hainInh": Object {
          "enum": Array [
            "INH sensitive",
            "INH resistant",
            "INH inconclusive",
            "Not tested",
          ],
          "title": "HAIN INH",
          "type": "string",
        },
        "hainRif": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "HAIN RIF",
          "type": "string",
        },
        "otherGenotypeInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Other Genotype Information",
          "type": "string",
        },
        "wgsPlatform": Object {
          "enum": Array [
            "HiSeq",
            "MiSeq",
            "NextSeq",
            "Other",
          ],
          "title": "WGS Platform",
          "type": "string",
        },
        "wgsPlatformOther": Object {
          "title": "WGS Platform Other",
          "type": "string",
        },
      },
      "title": "Genotyping",
      "type": "object",
    },
    "Metadata": Object {
      "properties": Object {
        "patient": Object {
          "$ref": "#/definitions/Patient",
        },
      },
      "title": "",
      "type": "object",
    },
    "Organisation": Object {
      "properties": Object {
        "name": Object {
          "title": "Name",
          "type": "string",
        },
        "template": Object {
          "title": "Template",
          "type": "string",
        },
      },
      "title": "organisation",
      "type": "object",
    },
    "Outcome": Object {
      "properties": Object {
        "dateOfDeath": Object {
          "format": "date-time",
          "title": "Date Of Death",
          "type": "string",
        },
        "sputumCultureConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Culture Conversion",
          "type": "string",
        },
        "sputumSmearConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Smear Conversion",
          "type": "string",
        },
        "whoOutcomeCategory": Object {
          "enum": Array [
            "Cured",
            "Treatment completed",
            "Treatment failed",
            "Died",
            "Lost to follow-up or defaulted",
            "Not evaluated",
            "Treatment success",
            "Not known",
          ],
          "title": "WHO Outcome Category",
          "type": "string",
        },
      },
      "title": "Outcome",
      "type": "object",
    },
    "Patient": Object {
      "properties": Object {
        "age": Object {
          "title": "Age",
          "type": "number",
        },
        "art": Object {
          "title": "ART",
          "type": "string",
        },
        "bmi": Object {
          "title": "BMI",
          "type": "number",
        },
        "countryOfBirth": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Of Birth",
          "type": "string",
        },
        "diabetic": Object {
          "enum": Array [
            "Diet alone",
            "Tablets",
            "Insulin",
            "Insulin+tablets",
            "Not known",
          ],
          "title": "Diabetic",
          "type": "string",
        },
        "genderAtBirth": Object {
          "enum": Array [
            "Male",
            "Female",
            "Other or Intersex",
            "Not known / unavailable",
          ],
          "title": "Gender At Birth",
          "type": "string",
        },
        "hivStatus": Object {
          "enum": Array [
            "Tested, negative",
            "Tested, positive",
            "Not tested",
            "Not known",
          ],
          "title": "HIV Status",
          "type": "string",
        },
        "homeless": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Homeless",
          "type": "string",
        },
        "imprisoned": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Imprisoned",
          "type": "string",
        },
        "injectingDrugUse": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Injecting Drug Use",
          "type": "string",
        },
        "patientId": Object {
          "title": "Patient Id",
          "type": "string",
        },
        "siteId": Object {
          "title": "Site Id",
          "type": "string",
        },
        "smoker": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Smoker",
          "type": "string",
        },
      },
      "title": "Patient",
      "type": "object",
    },
    "Phenotyping": Object {
      "properties": Object {
        "amikacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amikacin",
        },
        "amoxicilinClavulanate": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amoxicilin/Clavulanate",
        },
        "bedaquiline": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Bedaquiline",
        },
        "capreomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Capreomycin",
        },
        "ciprofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ciprofloxacin",
        },
        "clarythromycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clarythromycin",
        },
        "clofazimine": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clofazimine",
        },
        "delamanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Delamanid",
        },
        "ethambutol": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethambutol",
        },
        "ethionamideProthionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethionamide/Prothionamide",
        },
        "gatifloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gatifloxacin",
        },
        "gentamicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gentamicin",
        },
        "highDoseIsoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "High-dose Isoniazid",
        },
        "imipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "isoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Isoniazid",
        },
        "kanamycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Kanamycin",
        },
        "levofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Levofloxacin",
        },
        "linezolid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Linezolid",
        },
        "meropenem": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Meropenem",
        },
        "ofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ofloxacin",
        },
        "pas": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "PAS",
        },
        "phenotypeInformationFirstLineDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information First Line Drugs",
          "type": "string",
        },
        "phenotypeInformationOtherDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information Other Drugs",
          "type": "string",
        },
        "pretomanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretomanid (PA-824)",
        },
        "pretothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretothionamide",
        },
        "prothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Prothionamide",
        },
        "pyrazinamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pyrazinamide",
        },
        "rerizidone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Terizidone",
        },
        "rifabutin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifabutin",
        },
        "rifampicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifampicin",
        },
        "streptomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Streptomycin",
        },
        "thioacetazone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Thioacetazone",
        },
      },
      "title": "Phenotyping",
      "type": "object",
    },
    "Resistance": Object {
      "properties": Object {},
      "title": "resistance",
      "type": "object",
    },
    "Result": Object {
      "properties": Object {
        "analysed": Object {
          "title": "Analysed",
          "type": "string",
        },
        "file": Object {
          "items": Object {
            "title": "File",
            "type": "string",
          },
          "title": "Files",
          "type": "array",
        },
        "genotypeModel": Object {
          "title": "Genotype model",
          "type": "string",
        },
        "kmer": Object {
          "title": "KMER",
          "type": "number",
        },
        "phylogenetics": Object {
          "items": Object {
            "properties": Object {
              "medianDepth": Object {
                "title": "Median depth",
                "type": "number",
              },
              "percentCoverage": Object {
                "title": "Percent coverage",
                "type": "number",
              },
              "result": Object {
                "title": "Name",
                "type": "string",
              },
              "type": Object {
                "title": "Name",
                "type": "string",
              },
            },
            "type": "object",
          },
          "title": "Phylogenetics",
          "type": "array",
        },
        "probeSets": Object {
          "items": Object {
            "title": "Probe set",
            "type": "string",
          },
          "title": "Probe sets",
          "type": "array",
        },
        "sequenceCalls": Object {
          "title": "Sequence calls",
          "type": "object",
        },
        "susceptitibility": Object {
          "items": Object {
            "calledBy": Object {
              "title": "Called by",
              "type": "object",
            },
            "name": Object {
              "title": "Name",
              "type": "string",
            },
            "prediction": Object {
              "enum": Array [
                "R",
                "S",
              ],
              "title": "Prediction",
              "type": "string",
            },
          },
          "title": "Susceptibility",
          "type": "array",
        },
        "type": Object {
          "title": "Type",
          "type": "string",
        },
        "variantCalls": Object {
          "title": "Variant calls",
          "type": "object",
        },
        "version": Object {
          "title": "Version",
          "type": "object",
        },
      },
      "title": "Result",
      "type": "object",
    },
    "Sample": Object {
      "properties": Object {
        "anatomicalOrigin": Object {
          "enum": Array [
            "Respiratory",
            "Lymph node",
            "CSF",
            "Gastric",
            "Bone",
            "Other known site",
            "Non-respiratory, site not known",
            "Not known",
          ],
          "title": "Anatomical Origin",
          "type": "string",
        },
        "cityIsolate": Object {
          "title": "City Isolate",
          "type": "string",
        },
        "collectionDate": Object {
          "format": "date",
          "title": "Collection Date",
          "type": "string",
        },
        "countryIsolate": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Isolate",
          "type": "string",
        },
        "dateArrived": Object {
          "format": "date",
          "title": "Date Arrived",
          "type": "string",
        },
        "isolateId": Object {
          "title": "Isolate Id",
          "type": "string",
        },
        "labId": Object {
          "title": "Lab Id",
          "type": "string",
        },
        "prospectiveIsolate": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Prospective Isolate",
          "type": "string",
        },
        "smear": Object {
          "enum": Array [
            "Negative",
            "+",
            "++",
            "+++",
            "Not known",
          ],
          "title": "Smear",
          "type": "string",
        },
      },
      "title": "Sample",
      "type": "object",
    },
    "Susceptibility": Object {
      "properties": Object {
        "method": Object {
          "enum": Array [
            "MGIT",
            "LJ",
            "Microtitre plate",
            "MODS",
            "Other",
            "Not known",
          ],
          "title": "Method",
          "type": "string",
        },
        "susceptibility": Object {
          "enum": Array [
            "Sensitive",
            "Resistant",
            "Inconclusive",
            "Not tested",
          ],
          "title": "Susceptible",
          "type": "string",
        },
      },
      "title": "Susceptibility",
      "type": "object",
    },
    "Treatment": Object {
      "properties": Object {
        "continuation": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Continuation Start Date",
        },
        "currentTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Current TB Information",
          "type": "string",
        },
        "intensiveStartDate": Object {
          "format": "date-time",
          "title": "Intensive Start Date",
          "type": "string",
        },
        "intensiveStopDate": Object {
          "format": "date-time",
          "title": "Intensive Stop Date",
          "type": "string",
        },
        "nonStandardTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Non Standard Treatment",
          "type": "string",
        },
        "outsideStandardPhaseAmikacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amikacin",
        },
        "outsideStandardPhaseAmoxicilinClavulanate": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amoxicilin/Clavulanate",
        },
        "outsideStandardPhaseCapreomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Capreomycin",
        },
        "outsideStandardPhaseClarythromycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clarythromycin",
        },
        "outsideStandardPhaseClofazimine": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clofazimine",
        },
        "outsideStandardPhaseEthambutol": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethambutol",
        },
        "outsideStandardPhaseEthionamideProthionamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethionamide/Prothionamide",
        },
        "outsideStandardPhaseGatifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gatifloxacin",
        },
        "outsideStandardPhaseGentamicin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gentamicin",
        },
        "outsideStandardPhaseHighDoseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "High-dose Isoniazid",
        },
        "outsideStandardPhaseImipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "outsideStandardPhaseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Isoniazid",
        },
        "outsideStandardPhaseLevofloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Levofloxacin",
        },
        "outsideStandardPhaseLinezolid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Linezolid",
        },
        "outsideStandardPhaseMeropenem": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Meropenem",
        },
        "outsideStandardPhaseMoxifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Moxifloxacin",
        },
        "outsideStandardPhaseOfloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ofloxacin",
        },
        "outsideStandardPhasePas": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "PAS",
        },
        "outsideStandardPhasePyrazinamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Pyrazinamide",
        },
        "outsideStandardPhaseRifampicinRifabutin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Rifampicin/Rifabutin",
        },
        "outsideStandardPhaseStreptomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Streptomycin",
        },
        "outsideStandardPhaseTerizidone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Terizidone",
        },
        "outsideStandardPhaseThioacetazone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Thioacetazone",
        },
        "previousTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Previous TB Information",
          "type": "string",
        },
        "priorTreatmentDate": Object {
          "format": "date-time",
          "title": "Prior Treatment Date",
          "type": "string",
        },
        "recentMdrTb": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Recent MDR TB",
          "type": "string",
        },
        "startProgrammaticContinuationTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Start Programmatic Continuation Treatment",
          "type": "string",
        },
        "startProgrammaticTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Start Programmatic Treatment",
          "type": "string",
        },
        "tbProphylaxis": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "TB Prophylaxis",
          "type": "string",
        },
        "tbProphylaxisDate": Object {
          "format": "date-time",
          "title": "TB Prophylaxis Date",
          "type": "string",
        },
      },
      "title": "Treatment",
      "type": "object",
    },
  },
  "properties": Object {
    "metadata": Object {
      "$ref": "#/definitions/Metadata",
    },
  },
  "type": "object",
}
`;

exports[`experiment schema should filter as expected 2`] = `
Object {
  "$id": undefined,
  "$schema": undefined,
  "definitions": Object {
    "DrugPhase": Object {
      "properties": Object {
        "start": Object {
          "format": "date-time",
          "title": "Date started",
          "type": "string",
        },
        "stop": Object {
          "format": "date-time",
          "title": "Date stopped",
          "type": "string",
        },
      },
      "title": "Drug Phase",
      "type": "object",
    },
    "Genotyping": Object {
      "properties": Object {
        "genexpert": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "Genexpert",
          "type": "string",
        },
        "hain": Object {
          "enum": Array [
            "INH/RIF test",
            "Fluoroquinolone/aminoglycoside/ethambutol test",
            "Both",
            "Not tested",
          ],
          "title": "HAIN",
          "type": "string",
        },
        "hainAm": Object {
          "enum": Array [
            "AM sensitive",
            "AM resistant",
            "AM inconclusive",
            "Not tested",
          ],
          "title": "HAIN AM",
          "type": "string",
        },
        "hainEth": Object {
          "enum": Array [
            "ETH sensitive",
            "ETH resistant",
            "ETH inconclusive",
            "Not tested",
          ],
          "title": "HAIN ETH",
          "type": "string",
        },
        "hainFl": Object {
          "enum": Array [
            "FL sensitive",
            "FL resistant",
            "FL inconclusive",
            "Not tested",
          ],
          "title": "HAIN FL",
          "type": "string",
        },
        "hainInh": Object {
          "enum": Array [
            "INH sensitive",
            "INH resistant",
            "INH inconclusive",
            "Not tested",
          ],
          "title": "HAIN INH",
          "type": "string",
        },
        "hainRif": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "HAIN RIF",
          "type": "string",
        },
        "otherGenotypeInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Other Genotype Information",
          "type": "string",
        },
        "wgsPlatform": Object {
          "enum": Array [
            "HiSeq",
            "MiSeq",
            "NextSeq",
            "Other",
          ],
          "title": "WGS Platform",
          "type": "string",
        },
        "wgsPlatformOther": Object {
          "title": "WGS Platform Other",
          "type": "string",
        },
      },
      "title": "Genotyping",
      "type": "object",
    },
    "Metadata": Object {
      "properties": Object {
        "sample": Object {
          "$ref": "#/definitions/Sample",
        },
      },
      "title": "",
      "type": "object",
    },
    "Organisation": Object {
      "properties": Object {
        "name": Object {
          "title": "Name",
          "type": "string",
        },
        "template": Object {
          "title": "Template",
          "type": "string",
        },
      },
      "title": "organisation",
      "type": "object",
    },
    "Outcome": Object {
      "properties": Object {
        "dateOfDeath": Object {
          "format": "date-time",
          "title": "Date Of Death",
          "type": "string",
        },
        "sputumCultureConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Culture Conversion",
          "type": "string",
        },
        "sputumSmearConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Smear Conversion",
          "type": "string",
        },
        "whoOutcomeCategory": Object {
          "enum": Array [
            "Cured",
            "Treatment completed",
            "Treatment failed",
            "Died",
            "Lost to follow-up or defaulted",
            "Not evaluated",
            "Treatment success",
            "Not known",
          ],
          "title": "WHO Outcome Category",
          "type": "string",
        },
      },
      "title": "Outcome",
      "type": "object",
    },
    "Patient": Object {
      "properties": Object {
        "age": Object {
          "title": "Age",
          "type": "number",
        },
        "art": Object {
          "title": "ART",
          "type": "string",
        },
        "bmi": Object {
          "title": "BMI",
          "type": "number",
        },
        "countryOfBirth": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Of Birth",
          "type": "string",
        },
        "diabetic": Object {
          "enum": Array [
            "Diet alone",
            "Tablets",
            "Insulin",
            "Insulin+tablets",
            "Not known",
          ],
          "title": "Diabetic",
          "type": "string",
        },
        "genderAtBirth": Object {
          "enum": Array [
            "Male",
            "Female",
            "Other or Intersex",
            "Not known / unavailable",
          ],
          "title": "Gender At Birth",
          "type": "string",
        },
        "hivStatus": Object {
          "enum": Array [
            "Tested, negative",
            "Tested, positive",
            "Not tested",
            "Not known",
          ],
          "title": "HIV Status",
          "type": "string",
        },
        "homeless": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Homeless",
          "type": "string",
        },
        "imprisoned": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Imprisoned",
          "type": "string",
        },
        "injectingDrugUse": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Injecting Drug Use",
          "type": "string",
        },
        "patientId": Object {
          "title": "Patient Id",
          "type": "string",
        },
        "siteId": Object {
          "title": "Site Id",
          "type": "string",
        },
        "smoker": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Smoker",
          "type": "string",
        },
      },
      "title": "Patient",
      "type": "object",
    },
    "Phenotyping": Object {
      "properties": Object {
        "amikacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amikacin",
        },
        "amoxicilinClavulanate": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amoxicilin/Clavulanate",
        },
        "bedaquiline": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Bedaquiline",
        },
        "capreomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Capreomycin",
        },
        "ciprofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ciprofloxacin",
        },
        "clarythromycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clarythromycin",
        },
        "clofazimine": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clofazimine",
        },
        "delamanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Delamanid",
        },
        "ethambutol": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethambutol",
        },
        "ethionamideProthionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethionamide/Prothionamide",
        },
        "gatifloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gatifloxacin",
        },
        "gentamicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gentamicin",
        },
        "highDoseIsoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "High-dose Isoniazid",
        },
        "imipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "isoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Isoniazid",
        },
        "kanamycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Kanamycin",
        },
        "levofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Levofloxacin",
        },
        "linezolid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Linezolid",
        },
        "meropenem": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Meropenem",
        },
        "ofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ofloxacin",
        },
        "pas": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "PAS",
        },
        "phenotypeInformationFirstLineDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information First Line Drugs",
          "type": "string",
        },
        "phenotypeInformationOtherDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information Other Drugs",
          "type": "string",
        },
        "pretomanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretomanid (PA-824)",
        },
        "pretothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretothionamide",
        },
        "prothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Prothionamide",
        },
        "pyrazinamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pyrazinamide",
        },
        "rerizidone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Terizidone",
        },
        "rifabutin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifabutin",
        },
        "rifampicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifampicin",
        },
        "streptomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Streptomycin",
        },
        "thioacetazone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Thioacetazone",
        },
      },
      "title": "Phenotyping",
      "type": "object",
    },
    "Resistance": Object {
      "properties": Object {},
      "title": "resistance",
      "type": "object",
    },
    "Result": Object {
      "properties": Object {
        "analysed": Object {
          "title": "Analysed",
          "type": "string",
        },
        "file": Object {
          "items": Object {
            "title": "File",
            "type": "string",
          },
          "title": "Files",
          "type": "array",
        },
        "genotypeModel": Object {
          "title": "Genotype model",
          "type": "string",
        },
        "kmer": Object {
          "title": "KMER",
          "type": "number",
        },
        "phylogenetics": Object {
          "items": Object {
            "properties": Object {
              "medianDepth": Object {
                "title": "Median depth",
                "type": "number",
              },
              "percentCoverage": Object {
                "title": "Percent coverage",
                "type": "number",
              },
              "result": Object {
                "title": "Name",
                "type": "string",
              },
              "type": Object {
                "title": "Name",
                "type": "string",
              },
            },
            "type": "object",
          },
          "title": "Phylogenetics",
          "type": "array",
        },
        "probeSets": Object {
          "items": Object {
            "title": "Probe set",
            "type": "string",
          },
          "title": "Probe sets",
          "type": "array",
        },
        "sequenceCalls": Object {
          "title": "Sequence calls",
          "type": "object",
        },
        "susceptitibility": Object {
          "items": Object {
            "calledBy": Object {
              "title": "Called by",
              "type": "object",
            },
            "name": Object {
              "title": "Name",
              "type": "string",
            },
            "prediction": Object {
              "enum": Array [
                "R",
                "S",
              ],
              "title": "Prediction",
              "type": "string",
            },
          },
          "title": "Susceptibility",
          "type": "array",
        },
        "type": Object {
          "title": "Type",
          "type": "string",
        },
        "variantCalls": Object {
          "title": "Variant calls",
          "type": "object",
        },
        "version": Object {
          "title": "Version",
          "type": "object",
        },
      },
      "title": "Result",
      "type": "object",
    },
    "Sample": Object {
      "properties": Object {
        "anatomicalOrigin": Object {
          "enum": Array [
            "Respiratory",
            "Lymph node",
            "CSF",
            "Gastric",
            "Bone",
            "Other known site",
            "Non-respiratory, site not known",
            "Not known",
          ],
          "title": "Anatomical Origin",
          "type": "string",
        },
        "cityIsolate": Object {
          "title": "City Isolate",
          "type": "string",
        },
        "collectionDate": Object {
          "format": "date",
          "title": "Collection Date",
          "type": "string",
        },
        "countryIsolate": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Isolate",
          "type": "string",
        },
        "dateArrived": Object {
          "format": "date",
          "title": "Date Arrived",
          "type": "string",
        },
        "isolateId": Object {
          "title": "Isolate Id",
          "type": "string",
        },
        "labId": Object {
          "title": "Lab Id",
          "type": "string",
        },
        "prospectiveIsolate": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Prospective Isolate",
          "type": "string",
        },
        "smear": Object {
          "enum": Array [
            "Negative",
            "+",
            "++",
            "+++",
            "Not known",
          ],
          "title": "Smear",
          "type": "string",
        },
      },
      "title": "Sample",
      "type": "object",
    },
    "Susceptibility": Object {
      "properties": Object {
        "method": Object {
          "enum": Array [
            "MGIT",
            "LJ",
            "Microtitre plate",
            "MODS",
            "Other",
            "Not known",
          ],
          "title": "Method",
          "type": "string",
        },
        "susceptibility": Object {
          "enum": Array [
            "Sensitive",
            "Resistant",
            "Inconclusive",
            "Not tested",
          ],
          "title": "Susceptible",
          "type": "string",
        },
      },
      "title": "Susceptibility",
      "type": "object",
    },
    "Treatment": Object {
      "properties": Object {
        "continuation": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Continuation Start Date",
        },
        "currentTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Current TB Information",
          "type": "string",
        },
        "intensiveStartDate": Object {
          "format": "date-time",
          "title": "Intensive Start Date",
          "type": "string",
        },
        "intensiveStopDate": Object {
          "format": "date-time",
          "title": "Intensive Stop Date",
          "type": "string",
        },
        "nonStandardTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Non Standard Treatment",
          "type": "string",
        },
        "outsideStandardPhaseAmikacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amikacin",
        },
        "outsideStandardPhaseAmoxicilinClavulanate": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amoxicilin/Clavulanate",
        },
        "outsideStandardPhaseCapreomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Capreomycin",
        },
        "outsideStandardPhaseClarythromycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clarythromycin",
        },
        "outsideStandardPhaseClofazimine": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clofazimine",
        },
        "outsideStandardPhaseEthambutol": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethambutol",
        },
        "outsideStandardPhaseEthionamideProthionamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethionamide/Prothionamide",
        },
        "outsideStandardPhaseGatifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gatifloxacin",
        },
        "outsideStandardPhaseGentamicin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gentamicin",
        },
        "outsideStandardPhaseHighDoseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "High-dose Isoniazid",
        },
        "outsideStandardPhaseImipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "outsideStandardPhaseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Isoniazid",
        },
        "outsideStandardPhaseLevofloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Levofloxacin",
        },
        "outsideStandardPhaseLinezolid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Linezolid",
        },
        "outsideStandardPhaseMeropenem": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Meropenem",
        },
        "outsideStandardPhaseMoxifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Moxifloxacin",
        },
        "outsideStandardPhaseOfloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ofloxacin",
        },
        "outsideStandardPhasePas": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "PAS",
        },
        "outsideStandardPhasePyrazinamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Pyrazinamide",
        },
        "outsideStandardPhaseRifampicinRifabutin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Rifampicin/Rifabutin",
        },
        "outsideStandardPhaseStreptomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Streptomycin",
        },
        "outsideStandardPhaseTerizidone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Terizidone",
        },
        "outsideStandardPhaseThioacetazone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Thioacetazone",
        },
        "previousTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Previous TB Information",
          "type": "string",
        },
        "priorTreatmentDate": Object {
          "format": "date-time",
          "title": "Prior Treatment Date",
          "type": "string",
        },
        "recentMdrTb": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Recent MDR TB",
          "type": "string",
        },
        "startProgrammaticContinuationTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Start Programmatic Continuation Treatment",
          "type": "string",
        },
        "startProgrammaticTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Start Programmatic Treatment",
          "type": "string",
        },
        "tbProphylaxis": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "TB Prophylaxis",
          "type": "string",
        },
        "tbProphylaxisDate": Object {
          "format": "date-time",
          "title": "TB Prophylaxis Date",
          "type": "string",
        },
      },
      "title": "Treatment",
      "type": "object",
    },
  },
  "properties": Object {
    "metadata": Object {
      "$ref": "#/definitions/Metadata",
    },
  },
  "type": "object",
}
`;

exports[`experiment schema should filter as expected 3`] = `
Object {
  "$id": undefined,
  "$schema": undefined,
  "definitions": Object {
    "DrugPhase": Object {
      "properties": Object {
        "start": Object {
          "format": "date-time",
          "title": "Date started",
          "type": "string",
        },
        "stop": Object {
          "format": "date-time",
          "title": "Date stopped",
          "type": "string",
        },
      },
      "title": "Drug Phase",
      "type": "object",
    },
    "Genotyping": Object {
      "properties": Object {
        "genexpert": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "Genexpert",
          "type": "string",
        },
        "hain": Object {
          "enum": Array [
            "INH/RIF test",
            "Fluoroquinolone/aminoglycoside/ethambutol test",
            "Both",
            "Not tested",
          ],
          "title": "HAIN",
          "type": "string",
        },
        "hainAm": Object {
          "enum": Array [
            "AM sensitive",
            "AM resistant",
            "AM inconclusive",
            "Not tested",
          ],
          "title": "HAIN AM",
          "type": "string",
        },
        "hainEth": Object {
          "enum": Array [
            "ETH sensitive",
            "ETH resistant",
            "ETH inconclusive",
            "Not tested",
          ],
          "title": "HAIN ETH",
          "type": "string",
        },
        "hainFl": Object {
          "enum": Array [
            "FL sensitive",
            "FL resistant",
            "FL inconclusive",
            "Not tested",
          ],
          "title": "HAIN FL",
          "type": "string",
        },
        "hainInh": Object {
          "enum": Array [
            "INH sensitive",
            "INH resistant",
            "INH inconclusive",
            "Not tested",
          ],
          "title": "HAIN INH",
          "type": "string",
        },
        "hainRif": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "HAIN RIF",
          "type": "string",
        },
        "otherGenotypeInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Other Genotype Information",
          "type": "string",
        },
        "wgsPlatform": Object {
          "enum": Array [
            "HiSeq",
            "MiSeq",
            "NextSeq",
            "Other",
          ],
          "title": "WGS Platform",
          "type": "string",
        },
        "wgsPlatformOther": Object {
          "title": "WGS Platform Other",
          "type": "string",
        },
      },
      "title": "Genotyping",
      "type": "object",
    },
    "Metadata": Object {
      "properties": Object {
        "genotyping": Object {
          "$ref": "#/definitions/Genotyping",
        },
      },
      "title": "",
      "type": "object",
    },
    "Organisation": Object {
      "properties": Object {
        "name": Object {
          "title": "Name",
          "type": "string",
        },
        "template": Object {
          "title": "Template",
          "type": "string",
        },
      },
      "title": "organisation",
      "type": "object",
    },
    "Outcome": Object {
      "properties": Object {
        "dateOfDeath": Object {
          "format": "date-time",
          "title": "Date Of Death",
          "type": "string",
        },
        "sputumCultureConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Culture Conversion",
          "type": "string",
        },
        "sputumSmearConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Smear Conversion",
          "type": "string",
        },
        "whoOutcomeCategory": Object {
          "enum": Array [
            "Cured",
            "Treatment completed",
            "Treatment failed",
            "Died",
            "Lost to follow-up or defaulted",
            "Not evaluated",
            "Treatment success",
            "Not known",
          ],
          "title": "WHO Outcome Category",
          "type": "string",
        },
      },
      "title": "Outcome",
      "type": "object",
    },
    "Patient": Object {
      "properties": Object {
        "age": Object {
          "title": "Age",
          "type": "number",
        },
        "art": Object {
          "title": "ART",
          "type": "string",
        },
        "bmi": Object {
          "title": "BMI",
          "type": "number",
        },
        "countryOfBirth": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Of Birth",
          "type": "string",
        },
        "diabetic": Object {
          "enum": Array [
            "Diet alone",
            "Tablets",
            "Insulin",
            "Insulin+tablets",
            "Not known",
          ],
          "title": "Diabetic",
          "type": "string",
        },
        "genderAtBirth": Object {
          "enum": Array [
            "Male",
            "Female",
            "Other or Intersex",
            "Not known / unavailable",
          ],
          "title": "Gender At Birth",
          "type": "string",
        },
        "hivStatus": Object {
          "enum": Array [
            "Tested, negative",
            "Tested, positive",
            "Not tested",
            "Not known",
          ],
          "title": "HIV Status",
          "type": "string",
        },
        "homeless": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Homeless",
          "type": "string",
        },
        "imprisoned": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Imprisoned",
          "type": "string",
        },
        "injectingDrugUse": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Injecting Drug Use",
          "type": "string",
        },
        "patientId": Object {
          "title": "Patient Id",
          "type": "string",
        },
        "siteId": Object {
          "title": "Site Id",
          "type": "string",
        },
        "smoker": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Smoker",
          "type": "string",
        },
      },
      "title": "Patient",
      "type": "object",
    },
    "Phenotyping": Object {
      "properties": Object {
        "amikacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amikacin",
        },
        "amoxicilinClavulanate": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amoxicilin/Clavulanate",
        },
        "bedaquiline": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Bedaquiline",
        },
        "capreomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Capreomycin",
        },
        "ciprofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ciprofloxacin",
        },
        "clarythromycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clarythromycin",
        },
        "clofazimine": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clofazimine",
        },
        "delamanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Delamanid",
        },
        "ethambutol": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethambutol",
        },
        "ethionamideProthionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethionamide/Prothionamide",
        },
        "gatifloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gatifloxacin",
        },
        "gentamicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gentamicin",
        },
        "highDoseIsoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "High-dose Isoniazid",
        },
        "imipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "isoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Isoniazid",
        },
        "kanamycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Kanamycin",
        },
        "levofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Levofloxacin",
        },
        "linezolid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Linezolid",
        },
        "meropenem": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Meropenem",
        },
        "ofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ofloxacin",
        },
        "pas": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "PAS",
        },
        "phenotypeInformationFirstLineDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information First Line Drugs",
          "type": "string",
        },
        "phenotypeInformationOtherDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information Other Drugs",
          "type": "string",
        },
        "pretomanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretomanid (PA-824)",
        },
        "pretothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretothionamide",
        },
        "prothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Prothionamide",
        },
        "pyrazinamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pyrazinamide",
        },
        "rerizidone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Terizidone",
        },
        "rifabutin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifabutin",
        },
        "rifampicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifampicin",
        },
        "streptomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Streptomycin",
        },
        "thioacetazone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Thioacetazone",
        },
      },
      "title": "Phenotyping",
      "type": "object",
    },
    "Resistance": Object {
      "properties": Object {},
      "title": "resistance",
      "type": "object",
    },
    "Result": Object {
      "properties": Object {
        "analysed": Object {
          "title": "Analysed",
          "type": "string",
        },
        "file": Object {
          "items": Object {
            "title": "File",
            "type": "string",
          },
          "title": "Files",
          "type": "array",
        },
        "genotypeModel": Object {
          "title": "Genotype model",
          "type": "string",
        },
        "kmer": Object {
          "title": "KMER",
          "type": "number",
        },
        "phylogenetics": Object {
          "items": Object {
            "properties": Object {
              "medianDepth": Object {
                "title": "Median depth",
                "type": "number",
              },
              "percentCoverage": Object {
                "title": "Percent coverage",
                "type": "number",
              },
              "result": Object {
                "title": "Name",
                "type": "string",
              },
              "type": Object {
                "title": "Name",
                "type": "string",
              },
            },
            "type": "object",
          },
          "title": "Phylogenetics",
          "type": "array",
        },
        "probeSets": Object {
          "items": Object {
            "title": "Probe set",
            "type": "string",
          },
          "title": "Probe sets",
          "type": "array",
        },
        "sequenceCalls": Object {
          "title": "Sequence calls",
          "type": "object",
        },
        "susceptitibility": Object {
          "items": Object {
            "calledBy": Object {
              "title": "Called by",
              "type": "object",
            },
            "name": Object {
              "title": "Name",
              "type": "string",
            },
            "prediction": Object {
              "enum": Array [
                "R",
                "S",
              ],
              "title": "Prediction",
              "type": "string",
            },
          },
          "title": "Susceptibility",
          "type": "array",
        },
        "type": Object {
          "title": "Type",
          "type": "string",
        },
        "variantCalls": Object {
          "title": "Variant calls",
          "type": "object",
        },
        "version": Object {
          "title": "Version",
          "type": "object",
        },
      },
      "title": "Result",
      "type": "object",
    },
    "Sample": Object {
      "properties": Object {
        "anatomicalOrigin": Object {
          "enum": Array [
            "Respiratory",
            "Lymph node",
            "CSF",
            "Gastric",
            "Bone",
            "Other known site",
            "Non-respiratory, site not known",
            "Not known",
          ],
          "title": "Anatomical Origin",
          "type": "string",
        },
        "cityIsolate": Object {
          "title": "City Isolate",
          "type": "string",
        },
        "collectionDate": Object {
          "format": "date",
          "title": "Collection Date",
          "type": "string",
        },
        "countryIsolate": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Isolate",
          "type": "string",
        },
        "dateArrived": Object {
          "format": "date",
          "title": "Date Arrived",
          "type": "string",
        },
        "isolateId": Object {
          "title": "Isolate Id",
          "type": "string",
        },
        "labId": Object {
          "title": "Lab Id",
          "type": "string",
        },
        "prospectiveIsolate": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Prospective Isolate",
          "type": "string",
        },
        "smear": Object {
          "enum": Array [
            "Negative",
            "+",
            "++",
            "+++",
            "Not known",
          ],
          "title": "Smear",
          "type": "string",
        },
      },
      "title": "Sample",
      "type": "object",
    },
    "Susceptibility": Object {
      "properties": Object {
        "method": Object {
          "enum": Array [
            "MGIT",
            "LJ",
            "Microtitre plate",
            "MODS",
            "Other",
            "Not known",
          ],
          "title": "Method",
          "type": "string",
        },
        "susceptibility": Object {
          "enum": Array [
            "Sensitive",
            "Resistant",
            "Inconclusive",
            "Not tested",
          ],
          "title": "Susceptible",
          "type": "string",
        },
      },
      "title": "Susceptibility",
      "type": "object",
    },
    "Treatment": Object {
      "properties": Object {
        "continuation": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Continuation Start Date",
        },
        "currentTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Current TB Information",
          "type": "string",
        },
        "intensiveStartDate": Object {
          "format": "date-time",
          "title": "Intensive Start Date",
          "type": "string",
        },
        "intensiveStopDate": Object {
          "format": "date-time",
          "title": "Intensive Stop Date",
          "type": "string",
        },
        "nonStandardTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Non Standard Treatment",
          "type": "string",
        },
        "outsideStandardPhaseAmikacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amikacin",
        },
        "outsideStandardPhaseAmoxicilinClavulanate": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amoxicilin/Clavulanate",
        },
        "outsideStandardPhaseCapreomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Capreomycin",
        },
        "outsideStandardPhaseClarythromycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clarythromycin",
        },
        "outsideStandardPhaseClofazimine": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clofazimine",
        },
        "outsideStandardPhaseEthambutol": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethambutol",
        },
        "outsideStandardPhaseEthionamideProthionamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethionamide/Prothionamide",
        },
        "outsideStandardPhaseGatifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gatifloxacin",
        },
        "outsideStandardPhaseGentamicin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gentamicin",
        },
        "outsideStandardPhaseHighDoseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "High-dose Isoniazid",
        },
        "outsideStandardPhaseImipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "outsideStandardPhaseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Isoniazid",
        },
        "outsideStandardPhaseLevofloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Levofloxacin",
        },
        "outsideStandardPhaseLinezolid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Linezolid",
        },
        "outsideStandardPhaseMeropenem": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Meropenem",
        },
        "outsideStandardPhaseMoxifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Moxifloxacin",
        },
        "outsideStandardPhaseOfloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ofloxacin",
        },
        "outsideStandardPhasePas": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "PAS",
        },
        "outsideStandardPhasePyrazinamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Pyrazinamide",
        },
        "outsideStandardPhaseRifampicinRifabutin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Rifampicin/Rifabutin",
        },
        "outsideStandardPhaseStreptomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Streptomycin",
        },
        "outsideStandardPhaseTerizidone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Terizidone",
        },
        "outsideStandardPhaseThioacetazone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Thioacetazone",
        },
        "previousTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Previous TB Information",
          "type": "string",
        },
        "priorTreatmentDate": Object {
          "format": "date-time",
          "title": "Prior Treatment Date",
          "type": "string",
        },
        "recentMdrTb": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Recent MDR TB",
          "type": "string",
        },
        "startProgrammaticContinuationTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Start Programmatic Continuation Treatment",
          "type": "string",
        },
        "startProgrammaticTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Start Programmatic Treatment",
          "type": "string",
        },
        "tbProphylaxis": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "TB Prophylaxis",
          "type": "string",
        },
        "tbProphylaxisDate": Object {
          "format": "date-time",
          "title": "TB Prophylaxis Date",
          "type": "string",
        },
      },
      "title": "Treatment",
      "type": "object",
    },
  },
  "properties": Object {
    "metadata": Object {
      "$ref": "#/definitions/Metadata",
    },
  },
  "type": "object",
}
`;

exports[`experiment schema should filter as expected 4`] = `
Object {
  "$id": undefined,
  "$schema": undefined,
  "definitions": Object {
    "DrugPhase": Object {
      "properties": Object {
        "start": Object {
          "format": "date-time",
          "title": "Date started",
          "type": "string",
        },
        "stop": Object {
          "format": "date-time",
          "title": "Date stopped",
          "type": "string",
        },
      },
      "title": "Drug Phase",
      "type": "object",
    },
    "Genotyping": Object {
      "properties": Object {
        "genexpert": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "Genexpert",
          "type": "string",
        },
        "hain": Object {
          "enum": Array [
            "INH/RIF test",
            "Fluoroquinolone/aminoglycoside/ethambutol test",
            "Both",
            "Not tested",
          ],
          "title": "HAIN",
          "type": "string",
        },
        "hainAm": Object {
          "enum": Array [
            "AM sensitive",
            "AM resistant",
            "AM inconclusive",
            "Not tested",
          ],
          "title": "HAIN AM",
          "type": "string",
        },
        "hainEth": Object {
          "enum": Array [
            "ETH sensitive",
            "ETH resistant",
            "ETH inconclusive",
            "Not tested",
          ],
          "title": "HAIN ETH",
          "type": "string",
        },
        "hainFl": Object {
          "enum": Array [
            "FL sensitive",
            "FL resistant",
            "FL inconclusive",
            "Not tested",
          ],
          "title": "HAIN FL",
          "type": "string",
        },
        "hainInh": Object {
          "enum": Array [
            "INH sensitive",
            "INH resistant",
            "INH inconclusive",
            "Not tested",
          ],
          "title": "HAIN INH",
          "type": "string",
        },
        "hainRif": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "HAIN RIF",
          "type": "string",
        },
        "otherGenotypeInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Other Genotype Information",
          "type": "string",
        },
        "wgsPlatform": Object {
          "enum": Array [
            "HiSeq",
            "MiSeq",
            "NextSeq",
            "Other",
          ],
          "title": "WGS Platform",
          "type": "string",
        },
        "wgsPlatformOther": Object {
          "title": "WGS Platform Other",
          "type": "string",
        },
      },
      "title": "Genotyping",
      "type": "object",
    },
    "Metadata": Object {
      "properties": Object {
        "phenotyping": Object {
          "$ref": "#/definitions/Phenotyping",
        },
      },
      "title": "",
      "type": "object",
    },
    "Organisation": Object {
      "properties": Object {
        "name": Object {
          "title": "Name",
          "type": "string",
        },
        "template": Object {
          "title": "Template",
          "type": "string",
        },
      },
      "title": "organisation",
      "type": "object",
    },
    "Outcome": Object {
      "properties": Object {
        "dateOfDeath": Object {
          "format": "date-time",
          "title": "Date Of Death",
          "type": "string",
        },
        "sputumCultureConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Culture Conversion",
          "type": "string",
        },
        "sputumSmearConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Smear Conversion",
          "type": "string",
        },
        "whoOutcomeCategory": Object {
          "enum": Array [
            "Cured",
            "Treatment completed",
            "Treatment failed",
            "Died",
            "Lost to follow-up or defaulted",
            "Not evaluated",
            "Treatment success",
            "Not known",
          ],
          "title": "WHO Outcome Category",
          "type": "string",
        },
      },
      "title": "Outcome",
      "type": "object",
    },
    "Patient": Object {
      "properties": Object {
        "age": Object {
          "title": "Age",
          "type": "number",
        },
        "art": Object {
          "title": "ART",
          "type": "string",
        },
        "bmi": Object {
          "title": "BMI",
          "type": "number",
        },
        "countryOfBirth": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Of Birth",
          "type": "string",
        },
        "diabetic": Object {
          "enum": Array [
            "Diet alone",
            "Tablets",
            "Insulin",
            "Insulin+tablets",
            "Not known",
          ],
          "title": "Diabetic",
          "type": "string",
        },
        "genderAtBirth": Object {
          "enum": Array [
            "Male",
            "Female",
            "Other or Intersex",
            "Not known / unavailable",
          ],
          "title": "Gender At Birth",
          "type": "string",
        },
        "hivStatus": Object {
          "enum": Array [
            "Tested, negative",
            "Tested, positive",
            "Not tested",
            "Not known",
          ],
          "title": "HIV Status",
          "type": "string",
        },
        "homeless": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Homeless",
          "type": "string",
        },
        "imprisoned": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Imprisoned",
          "type": "string",
        },
        "injectingDrugUse": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Injecting Drug Use",
          "type": "string",
        },
        "patientId": Object {
          "title": "Patient Id",
          "type": "string",
        },
        "siteId": Object {
          "title": "Site Id",
          "type": "string",
        },
        "smoker": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Smoker",
          "type": "string",
        },
      },
      "title": "Patient",
      "type": "object",
    },
    "Phenotyping": Object {
      "properties": Object {
        "amikacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amikacin",
        },
        "amoxicilinClavulanate": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amoxicilin/Clavulanate",
        },
        "bedaquiline": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Bedaquiline",
        },
        "capreomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Capreomycin",
        },
        "ciprofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ciprofloxacin",
        },
        "clarythromycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clarythromycin",
        },
        "clofazimine": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clofazimine",
        },
        "delamanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Delamanid",
        },
        "ethambutol": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethambutol",
        },
        "ethionamideProthionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethionamide/Prothionamide",
        },
        "gatifloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gatifloxacin",
        },
        "gentamicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gentamicin",
        },
        "highDoseIsoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "High-dose Isoniazid",
        },
        "imipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "isoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Isoniazid",
        },
        "kanamycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Kanamycin",
        },
        "levofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Levofloxacin",
        },
        "linezolid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Linezolid",
        },
        "meropenem": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Meropenem",
        },
        "ofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ofloxacin",
        },
        "pas": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "PAS",
        },
        "phenotypeInformationFirstLineDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information First Line Drugs",
          "type": "string",
        },
        "phenotypeInformationOtherDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information Other Drugs",
          "type": "string",
        },
        "pretomanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretomanid (PA-824)",
        },
        "pretothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretothionamide",
        },
        "prothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Prothionamide",
        },
        "pyrazinamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pyrazinamide",
        },
        "rerizidone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Terizidone",
        },
        "rifabutin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifabutin",
        },
        "rifampicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifampicin",
        },
        "streptomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Streptomycin",
        },
        "thioacetazone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Thioacetazone",
        },
      },
      "title": "Phenotyping",
      "type": "object",
    },
    "Resistance": Object {
      "properties": Object {},
      "title": "resistance",
      "type": "object",
    },
    "Result": Object {
      "properties": Object {
        "analysed": Object {
          "title": "Analysed",
          "type": "string",
        },
        "file": Object {
          "items": Object {
            "title": "File",
            "type": "string",
          },
          "title": "Files",
          "type": "array",
        },
        "genotypeModel": Object {
          "title": "Genotype model",
          "type": "string",
        },
        "kmer": Object {
          "title": "KMER",
          "type": "number",
        },
        "phylogenetics": Object {
          "items": Object {
            "properties": Object {
              "medianDepth": Object {
                "title": "Median depth",
                "type": "number",
              },
              "percentCoverage": Object {
                "title": "Percent coverage",
                "type": "number",
              },
              "result": Object {
                "title": "Name",
                "type": "string",
              },
              "type": Object {
                "title": "Name",
                "type": "string",
              },
            },
            "type": "object",
          },
          "title": "Phylogenetics",
          "type": "array",
        },
        "probeSets": Object {
          "items": Object {
            "title": "Probe set",
            "type": "string",
          },
          "title": "Probe sets",
          "type": "array",
        },
        "sequenceCalls": Object {
          "title": "Sequence calls",
          "type": "object",
        },
        "susceptitibility": Object {
          "items": Object {
            "calledBy": Object {
              "title": "Called by",
              "type": "object",
            },
            "name": Object {
              "title": "Name",
              "type": "string",
            },
            "prediction": Object {
              "enum": Array [
                "R",
                "S",
              ],
              "title": "Prediction",
              "type": "string",
            },
          },
          "title": "Susceptibility",
          "type": "array",
        },
        "type": Object {
          "title": "Type",
          "type": "string",
        },
        "variantCalls": Object {
          "title": "Variant calls",
          "type": "object",
        },
        "version": Object {
          "title": "Version",
          "type": "object",
        },
      },
      "title": "Result",
      "type": "object",
    },
    "Sample": Object {
      "properties": Object {
        "anatomicalOrigin": Object {
          "enum": Array [
            "Respiratory",
            "Lymph node",
            "CSF",
            "Gastric",
            "Bone",
            "Other known site",
            "Non-respiratory, site not known",
            "Not known",
          ],
          "title": "Anatomical Origin",
          "type": "string",
        },
        "cityIsolate": Object {
          "title": "City Isolate",
          "type": "string",
        },
        "collectionDate": Object {
          "format": "date",
          "title": "Collection Date",
          "type": "string",
        },
        "countryIsolate": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Isolate",
          "type": "string",
        },
        "dateArrived": Object {
          "format": "date",
          "title": "Date Arrived",
          "type": "string",
        },
        "isolateId": Object {
          "title": "Isolate Id",
          "type": "string",
        },
        "labId": Object {
          "title": "Lab Id",
          "type": "string",
        },
        "prospectiveIsolate": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Prospective Isolate",
          "type": "string",
        },
        "smear": Object {
          "enum": Array [
            "Negative",
            "+",
            "++",
            "+++",
            "Not known",
          ],
          "title": "Smear",
          "type": "string",
        },
      },
      "title": "Sample",
      "type": "object",
    },
    "Susceptibility": Object {
      "properties": Object {
        "method": Object {
          "enum": Array [
            "MGIT",
            "LJ",
            "Microtitre plate",
            "MODS",
            "Other",
            "Not known",
          ],
          "title": "Method",
          "type": "string",
        },
        "susceptibility": Object {
          "enum": Array [
            "Sensitive",
            "Resistant",
            "Inconclusive",
            "Not tested",
          ],
          "title": "Susceptible",
          "type": "string",
        },
      },
      "title": "Susceptibility",
      "type": "object",
    },
    "Treatment": Object {
      "properties": Object {
        "continuation": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Continuation Start Date",
        },
        "currentTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Current TB Information",
          "type": "string",
        },
        "intensiveStartDate": Object {
          "format": "date-time",
          "title": "Intensive Start Date",
          "type": "string",
        },
        "intensiveStopDate": Object {
          "format": "date-time",
          "title": "Intensive Stop Date",
          "type": "string",
        },
        "nonStandardTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Non Standard Treatment",
          "type": "string",
        },
        "outsideStandardPhaseAmikacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amikacin",
        },
        "outsideStandardPhaseAmoxicilinClavulanate": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amoxicilin/Clavulanate",
        },
        "outsideStandardPhaseCapreomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Capreomycin",
        },
        "outsideStandardPhaseClarythromycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clarythromycin",
        },
        "outsideStandardPhaseClofazimine": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clofazimine",
        },
        "outsideStandardPhaseEthambutol": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethambutol",
        },
        "outsideStandardPhaseEthionamideProthionamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethionamide/Prothionamide",
        },
        "outsideStandardPhaseGatifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gatifloxacin",
        },
        "outsideStandardPhaseGentamicin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gentamicin",
        },
        "outsideStandardPhaseHighDoseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "High-dose Isoniazid",
        },
        "outsideStandardPhaseImipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "outsideStandardPhaseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Isoniazid",
        },
        "outsideStandardPhaseLevofloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Levofloxacin",
        },
        "outsideStandardPhaseLinezolid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Linezolid",
        },
        "outsideStandardPhaseMeropenem": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Meropenem",
        },
        "outsideStandardPhaseMoxifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Moxifloxacin",
        },
        "outsideStandardPhaseOfloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ofloxacin",
        },
        "outsideStandardPhasePas": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "PAS",
        },
        "outsideStandardPhasePyrazinamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Pyrazinamide",
        },
        "outsideStandardPhaseRifampicinRifabutin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Rifampicin/Rifabutin",
        },
        "outsideStandardPhaseStreptomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Streptomycin",
        },
        "outsideStandardPhaseTerizidone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Terizidone",
        },
        "outsideStandardPhaseThioacetazone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Thioacetazone",
        },
        "previousTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Previous TB Information",
          "type": "string",
        },
        "priorTreatmentDate": Object {
          "format": "date-time",
          "title": "Prior Treatment Date",
          "type": "string",
        },
        "recentMdrTb": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Recent MDR TB",
          "type": "string",
        },
        "startProgrammaticContinuationTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Start Programmatic Continuation Treatment",
          "type": "string",
        },
        "startProgrammaticTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Start Programmatic Treatment",
          "type": "string",
        },
        "tbProphylaxis": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "TB Prophylaxis",
          "type": "string",
        },
        "tbProphylaxisDate": Object {
          "format": "date-time",
          "title": "TB Prophylaxis Date",
          "type": "string",
        },
      },
      "title": "Treatment",
      "type": "object",
    },
  },
  "properties": Object {
    "metadata": Object {
      "$ref": "#/definitions/Metadata",
    },
  },
  "type": "object",
}
`;

exports[`experiment schema should filter as expected 5`] = `
Object {
  "$id": undefined,
  "$schema": undefined,
  "definitions": Object {
    "DrugPhase": Object {
      "properties": Object {
        "start": Object {
          "format": "date-time",
          "title": "Date started",
          "type": "string",
        },
        "stop": Object {
          "format": "date-time",
          "title": "Date stopped",
          "type": "string",
        },
      },
      "title": "Drug Phase",
      "type": "object",
    },
    "Genotyping": Object {
      "properties": Object {
        "genexpert": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "Genexpert",
          "type": "string",
        },
        "hain": Object {
          "enum": Array [
            "INH/RIF test",
            "Fluoroquinolone/aminoglycoside/ethambutol test",
            "Both",
            "Not tested",
          ],
          "title": "HAIN",
          "type": "string",
        },
        "hainAm": Object {
          "enum": Array [
            "AM sensitive",
            "AM resistant",
            "AM inconclusive",
            "Not tested",
          ],
          "title": "HAIN AM",
          "type": "string",
        },
        "hainEth": Object {
          "enum": Array [
            "ETH sensitive",
            "ETH resistant",
            "ETH inconclusive",
            "Not tested",
          ],
          "title": "HAIN ETH",
          "type": "string",
        },
        "hainFl": Object {
          "enum": Array [
            "FL sensitive",
            "FL resistant",
            "FL inconclusive",
            "Not tested",
          ],
          "title": "HAIN FL",
          "type": "string",
        },
        "hainInh": Object {
          "enum": Array [
            "INH sensitive",
            "INH resistant",
            "INH inconclusive",
            "Not tested",
          ],
          "title": "HAIN INH",
          "type": "string",
        },
        "hainRif": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "HAIN RIF",
          "type": "string",
        },
        "otherGenotypeInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Other Genotype Information",
          "type": "string",
        },
        "wgsPlatform": Object {
          "enum": Array [
            "HiSeq",
            "MiSeq",
            "NextSeq",
            "Other",
          ],
          "title": "WGS Platform",
          "type": "string",
        },
        "wgsPlatformOther": Object {
          "title": "WGS Platform Other",
          "type": "string",
        },
      },
      "title": "Genotyping",
      "type": "object",
    },
    "Metadata": Object {
      "properties": Object {
        "treatment": Object {
          "$ref": "#/definitions/Treatment",
        },
      },
      "title": "",
      "type": "object",
    },
    "Organisation": Object {
      "properties": Object {
        "name": Object {
          "title": "Name",
          "type": "string",
        },
        "template": Object {
          "title": "Template",
          "type": "string",
        },
      },
      "title": "organisation",
      "type": "object",
    },
    "Outcome": Object {
      "properties": Object {
        "dateOfDeath": Object {
          "format": "date-time",
          "title": "Date Of Death",
          "type": "string",
        },
        "sputumCultureConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Culture Conversion",
          "type": "string",
        },
        "sputumSmearConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Smear Conversion",
          "type": "string",
        },
        "whoOutcomeCategory": Object {
          "enum": Array [
            "Cured",
            "Treatment completed",
            "Treatment failed",
            "Died",
            "Lost to follow-up or defaulted",
            "Not evaluated",
            "Treatment success",
            "Not known",
          ],
          "title": "WHO Outcome Category",
          "type": "string",
        },
      },
      "title": "Outcome",
      "type": "object",
    },
    "Patient": Object {
      "properties": Object {
        "age": Object {
          "title": "Age",
          "type": "number",
        },
        "art": Object {
          "title": "ART",
          "type": "string",
        },
        "bmi": Object {
          "title": "BMI",
          "type": "number",
        },
        "countryOfBirth": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Of Birth",
          "type": "string",
        },
        "diabetic": Object {
          "enum": Array [
            "Diet alone",
            "Tablets",
            "Insulin",
            "Insulin+tablets",
            "Not known",
          ],
          "title": "Diabetic",
          "type": "string",
        },
        "genderAtBirth": Object {
          "enum": Array [
            "Male",
            "Female",
            "Other or Intersex",
            "Not known / unavailable",
          ],
          "title": "Gender At Birth",
          "type": "string",
        },
        "hivStatus": Object {
          "enum": Array [
            "Tested, negative",
            "Tested, positive",
            "Not tested",
            "Not known",
          ],
          "title": "HIV Status",
          "type": "string",
        },
        "homeless": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Homeless",
          "type": "string",
        },
        "imprisoned": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Imprisoned",
          "type": "string",
        },
        "injectingDrugUse": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Injecting Drug Use",
          "type": "string",
        },
        "patientId": Object {
          "title": "Patient Id",
          "type": "string",
        },
        "siteId": Object {
          "title": "Site Id",
          "type": "string",
        },
        "smoker": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Smoker",
          "type": "string",
        },
      },
      "title": "Patient",
      "type": "object",
    },
    "Phenotyping": Object {
      "properties": Object {
        "amikacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amikacin",
        },
        "amoxicilinClavulanate": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amoxicilin/Clavulanate",
        },
        "bedaquiline": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Bedaquiline",
        },
        "capreomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Capreomycin",
        },
        "ciprofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ciprofloxacin",
        },
        "clarythromycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clarythromycin",
        },
        "clofazimine": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clofazimine",
        },
        "delamanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Delamanid",
        },
        "ethambutol": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethambutol",
        },
        "ethionamideProthionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethionamide/Prothionamide",
        },
        "gatifloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gatifloxacin",
        },
        "gentamicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gentamicin",
        },
        "highDoseIsoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "High-dose Isoniazid",
        },
        "imipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "isoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Isoniazid",
        },
        "kanamycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Kanamycin",
        },
        "levofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Levofloxacin",
        },
        "linezolid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Linezolid",
        },
        "meropenem": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Meropenem",
        },
        "ofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ofloxacin",
        },
        "pas": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "PAS",
        },
        "phenotypeInformationFirstLineDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information First Line Drugs",
          "type": "string",
        },
        "phenotypeInformationOtherDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information Other Drugs",
          "type": "string",
        },
        "pretomanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretomanid (PA-824)",
        },
        "pretothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretothionamide",
        },
        "prothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Prothionamide",
        },
        "pyrazinamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pyrazinamide",
        },
        "rerizidone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Terizidone",
        },
        "rifabutin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifabutin",
        },
        "rifampicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifampicin",
        },
        "streptomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Streptomycin",
        },
        "thioacetazone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Thioacetazone",
        },
      },
      "title": "Phenotyping",
      "type": "object",
    },
    "Resistance": Object {
      "properties": Object {},
      "title": "resistance",
      "type": "object",
    },
    "Result": Object {
      "properties": Object {
        "analysed": Object {
          "title": "Analysed",
          "type": "string",
        },
        "file": Object {
          "items": Object {
            "title": "File",
            "type": "string",
          },
          "title": "Files",
          "type": "array",
        },
        "genotypeModel": Object {
          "title": "Genotype model",
          "type": "string",
        },
        "kmer": Object {
          "title": "KMER",
          "type": "number",
        },
        "phylogenetics": Object {
          "items": Object {
            "properties": Object {
              "medianDepth": Object {
                "title": "Median depth",
                "type": "number",
              },
              "percentCoverage": Object {
                "title": "Percent coverage",
                "type": "number",
              },
              "result": Object {
                "title": "Name",
                "type": "string",
              },
              "type": Object {
                "title": "Name",
                "type": "string",
              },
            },
            "type": "object",
          },
          "title": "Phylogenetics",
          "type": "array",
        },
        "probeSets": Object {
          "items": Object {
            "title": "Probe set",
            "type": "string",
          },
          "title": "Probe sets",
          "type": "array",
        },
        "sequenceCalls": Object {
          "title": "Sequence calls",
          "type": "object",
        },
        "susceptitibility": Object {
          "items": Object {
            "calledBy": Object {
              "title": "Called by",
              "type": "object",
            },
            "name": Object {
              "title": "Name",
              "type": "string",
            },
            "prediction": Object {
              "enum": Array [
                "R",
                "S",
              ],
              "title": "Prediction",
              "type": "string",
            },
          },
          "title": "Susceptibility",
          "type": "array",
        },
        "type": Object {
          "title": "Type",
          "type": "string",
        },
        "variantCalls": Object {
          "title": "Variant calls",
          "type": "object",
        },
        "version": Object {
          "title": "Version",
          "type": "object",
        },
      },
      "title": "Result",
      "type": "object",
    },
    "Sample": Object {
      "properties": Object {
        "anatomicalOrigin": Object {
          "enum": Array [
            "Respiratory",
            "Lymph node",
            "CSF",
            "Gastric",
            "Bone",
            "Other known site",
            "Non-respiratory, site not known",
            "Not known",
          ],
          "title": "Anatomical Origin",
          "type": "string",
        },
        "cityIsolate": Object {
          "title": "City Isolate",
          "type": "string",
        },
        "collectionDate": Object {
          "format": "date",
          "title": "Collection Date",
          "type": "string",
        },
        "countryIsolate": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Isolate",
          "type": "string",
        },
        "dateArrived": Object {
          "format": "date",
          "title": "Date Arrived",
          "type": "string",
        },
        "isolateId": Object {
          "title": "Isolate Id",
          "type": "string",
        },
        "labId": Object {
          "title": "Lab Id",
          "type": "string",
        },
        "prospectiveIsolate": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Prospective Isolate",
          "type": "string",
        },
        "smear": Object {
          "enum": Array [
            "Negative",
            "+",
            "++",
            "+++",
            "Not known",
          ],
          "title": "Smear",
          "type": "string",
        },
      },
      "title": "Sample",
      "type": "object",
    },
    "Susceptibility": Object {
      "properties": Object {
        "method": Object {
          "enum": Array [
            "MGIT",
            "LJ",
            "Microtitre plate",
            "MODS",
            "Other",
            "Not known",
          ],
          "title": "Method",
          "type": "string",
        },
        "susceptibility": Object {
          "enum": Array [
            "Sensitive",
            "Resistant",
            "Inconclusive",
            "Not tested",
          ],
          "title": "Susceptible",
          "type": "string",
        },
      },
      "title": "Susceptibility",
      "type": "object",
    },
    "Treatment": Object {
      "properties": Object {
        "continuation": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Continuation Start Date",
        },
        "currentTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Current TB Information",
          "type": "string",
        },
        "intensiveStartDate": Object {
          "format": "date-time",
          "title": "Intensive Start Date",
          "type": "string",
        },
        "intensiveStopDate": Object {
          "format": "date-time",
          "title": "Intensive Stop Date",
          "type": "string",
        },
        "nonStandardTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Non Standard Treatment",
          "type": "string",
        },
        "outsideStandardPhaseAmikacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amikacin",
        },
        "outsideStandardPhaseAmoxicilinClavulanate": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amoxicilin/Clavulanate",
        },
        "outsideStandardPhaseCapreomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Capreomycin",
        },
        "outsideStandardPhaseClarythromycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clarythromycin",
        },
        "outsideStandardPhaseClofazimine": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clofazimine",
        },
        "outsideStandardPhaseEthambutol": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethambutol",
        },
        "outsideStandardPhaseEthionamideProthionamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethionamide/Prothionamide",
        },
        "outsideStandardPhaseGatifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gatifloxacin",
        },
        "outsideStandardPhaseGentamicin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gentamicin",
        },
        "outsideStandardPhaseHighDoseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "High-dose Isoniazid",
        },
        "outsideStandardPhaseImipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "outsideStandardPhaseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Isoniazid",
        },
        "outsideStandardPhaseLevofloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Levofloxacin",
        },
        "outsideStandardPhaseLinezolid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Linezolid",
        },
        "outsideStandardPhaseMeropenem": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Meropenem",
        },
        "outsideStandardPhaseMoxifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Moxifloxacin",
        },
        "outsideStandardPhaseOfloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ofloxacin",
        },
        "outsideStandardPhasePas": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "PAS",
        },
        "outsideStandardPhasePyrazinamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Pyrazinamide",
        },
        "outsideStandardPhaseRifampicinRifabutin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Rifampicin/Rifabutin",
        },
        "outsideStandardPhaseStreptomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Streptomycin",
        },
        "outsideStandardPhaseTerizidone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Terizidone",
        },
        "outsideStandardPhaseThioacetazone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Thioacetazone",
        },
        "previousTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Previous TB Information",
          "type": "string",
        },
        "priorTreatmentDate": Object {
          "format": "date-time",
          "title": "Prior Treatment Date",
          "type": "string",
        },
        "recentMdrTb": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Recent MDR TB",
          "type": "string",
        },
        "startProgrammaticContinuationTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Start Programmatic Continuation Treatment",
          "type": "string",
        },
        "startProgrammaticTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Start Programmatic Treatment",
          "type": "string",
        },
        "tbProphylaxis": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "TB Prophylaxis",
          "type": "string",
        },
        "tbProphylaxisDate": Object {
          "format": "date-time",
          "title": "TB Prophylaxis Date",
          "type": "string",
        },
      },
      "title": "Treatment",
      "type": "object",
    },
  },
  "properties": Object {
    "metadata": Object {
      "$ref": "#/definitions/Metadata",
    },
  },
  "type": "object",
}
`;

exports[`experiment schema should filter as expected 6`] = `
Object {
  "$id": undefined,
  "$schema": undefined,
  "definitions": Object {
    "DrugPhase": Object {
      "properties": Object {
        "start": Object {
          "format": "date-time",
          "title": "Date started",
          "type": "string",
        },
        "stop": Object {
          "format": "date-time",
          "title": "Date stopped",
          "type": "string",
        },
      },
      "title": "Drug Phase",
      "type": "object",
    },
    "Genotyping": Object {
      "properties": Object {
        "genexpert": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "Genexpert",
          "type": "string",
        },
        "hain": Object {
          "enum": Array [
            "INH/RIF test",
            "Fluoroquinolone/aminoglycoside/ethambutol test",
            "Both",
            "Not tested",
          ],
          "title": "HAIN",
          "type": "string",
        },
        "hainAm": Object {
          "enum": Array [
            "AM sensitive",
            "AM resistant",
            "AM inconclusive",
            "Not tested",
          ],
          "title": "HAIN AM",
          "type": "string",
        },
        "hainEth": Object {
          "enum": Array [
            "ETH sensitive",
            "ETH resistant",
            "ETH inconclusive",
            "Not tested",
          ],
          "title": "HAIN ETH",
          "type": "string",
        },
        "hainFl": Object {
          "enum": Array [
            "FL sensitive",
            "FL resistant",
            "FL inconclusive",
            "Not tested",
          ],
          "title": "HAIN FL",
          "type": "string",
        },
        "hainInh": Object {
          "enum": Array [
            "INH sensitive",
            "INH resistant",
            "INH inconclusive",
            "Not tested",
          ],
          "title": "HAIN INH",
          "type": "string",
        },
        "hainRif": Object {
          "enum": Array [
            "RIF sensitive",
            "RIF resistant",
            "RIF inconclusive",
            "Not tested",
          ],
          "title": "HAIN RIF",
          "type": "string",
        },
        "otherGenotypeInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Other Genotype Information",
          "type": "string",
        },
        "wgsPlatform": Object {
          "enum": Array [
            "HiSeq",
            "MiSeq",
            "NextSeq",
            "Other",
          ],
          "title": "WGS Platform",
          "type": "string",
        },
        "wgsPlatformOther": Object {
          "title": "WGS Platform Other",
          "type": "string",
        },
      },
      "title": "Genotyping",
      "type": "object",
    },
    "Metadata": Object {
      "properties": Object {
        "outcome": Object {
          "$ref": "#/definitions/Outcome",
        },
      },
      "title": "",
      "type": "object",
    },
    "Organisation": Object {
      "properties": Object {
        "name": Object {
          "title": "Name",
          "type": "string",
        },
        "template": Object {
          "title": "Template",
          "type": "string",
        },
      },
      "title": "organisation",
      "type": "object",
    },
    "Outcome": Object {
      "properties": Object {
        "dateOfDeath": Object {
          "format": "date-time",
          "title": "Date Of Death",
          "type": "string",
        },
        "sputumCultureConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Culture Conversion",
          "type": "string",
        },
        "sputumSmearConversion": Object {
          "enum": Array [
            "Sputum smear negative at 2-3 months",
            "Sputum smear positive at 2-3 months",
            "Not known or not done",
          ],
          "title": "Sputum Smear Conversion",
          "type": "string",
        },
        "whoOutcomeCategory": Object {
          "enum": Array [
            "Cured",
            "Treatment completed",
            "Treatment failed",
            "Died",
            "Lost to follow-up or defaulted",
            "Not evaluated",
            "Treatment success",
            "Not known",
          ],
          "title": "WHO Outcome Category",
          "type": "string",
        },
      },
      "title": "Outcome",
      "type": "object",
    },
    "Patient": Object {
      "properties": Object {
        "age": Object {
          "title": "Age",
          "type": "number",
        },
        "art": Object {
          "title": "ART",
          "type": "string",
        },
        "bmi": Object {
          "title": "BMI",
          "type": "number",
        },
        "countryOfBirth": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Of Birth",
          "type": "string",
        },
        "diabetic": Object {
          "enum": Array [
            "Diet alone",
            "Tablets",
            "Insulin",
            "Insulin+tablets",
            "Not known",
          ],
          "title": "Diabetic",
          "type": "string",
        },
        "genderAtBirth": Object {
          "enum": Array [
            "Male",
            "Female",
            "Other or Intersex",
            "Not known / unavailable",
          ],
          "title": "Gender At Birth",
          "type": "string",
        },
        "hivStatus": Object {
          "enum": Array [
            "Tested, negative",
            "Tested, positive",
            "Not tested",
            "Not known",
          ],
          "title": "HIV Status",
          "type": "string",
        },
        "homeless": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Homeless",
          "type": "string",
        },
        "imprisoned": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Imprisoned",
          "type": "string",
        },
        "injectingDrugUse": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Injecting Drug Use",
          "type": "string",
        },
        "patientId": Object {
          "title": "Patient Id",
          "type": "string",
        },
        "siteId": Object {
          "title": "Site Id",
          "type": "string",
        },
        "smoker": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Smoker",
          "type": "string",
        },
      },
      "title": "Patient",
      "type": "object",
    },
    "Phenotyping": Object {
      "properties": Object {
        "amikacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amikacin",
        },
        "amoxicilinClavulanate": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Amoxicilin/Clavulanate",
        },
        "bedaquiline": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Bedaquiline",
        },
        "capreomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Capreomycin",
        },
        "ciprofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ciprofloxacin",
        },
        "clarythromycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clarythromycin",
        },
        "clofazimine": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Clofazimine",
        },
        "delamanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Delamanid",
        },
        "ethambutol": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethambutol",
        },
        "ethionamideProthionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ethionamide/Prothionamide",
        },
        "gatifloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gatifloxacin",
        },
        "gentamicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Gentamicin",
        },
        "highDoseIsoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "High-dose Isoniazid",
        },
        "imipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "isoniazid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Isoniazid",
        },
        "kanamycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Kanamycin",
        },
        "levofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Levofloxacin",
        },
        "linezolid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Linezolid",
        },
        "meropenem": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Meropenem",
        },
        "ofloxacin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Ofloxacin",
        },
        "pas": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "PAS",
        },
        "phenotypeInformationFirstLineDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information First Line Drugs",
          "type": "string",
        },
        "phenotypeInformationOtherDrugs": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Phenotype Information Other Drugs",
          "type": "string",
        },
        "pretomanid": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretomanid (PA-824)",
        },
        "pretothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pretothionamide",
        },
        "prothionamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Prothionamide",
        },
        "pyrazinamide": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Pyrazinamide",
        },
        "rerizidone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Terizidone",
        },
        "rifabutin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifabutin",
        },
        "rifampicin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Rifampicin",
        },
        "streptomycin": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Streptomycin",
        },
        "thioacetazone": Object {
          "$ref": "#/definitions/Susceptibility",
          "title": "Thioacetazone",
        },
      },
      "title": "Phenotyping",
      "type": "object",
    },
    "Resistance": Object {
      "properties": Object {},
      "title": "resistance",
      "type": "object",
    },
    "Result": Object {
      "properties": Object {
        "analysed": Object {
          "title": "Analysed",
          "type": "string",
        },
        "file": Object {
          "items": Object {
            "title": "File",
            "type": "string",
          },
          "title": "Files",
          "type": "array",
        },
        "genotypeModel": Object {
          "title": "Genotype model",
          "type": "string",
        },
        "kmer": Object {
          "title": "KMER",
          "type": "number",
        },
        "phylogenetics": Object {
          "items": Object {
            "properties": Object {
              "medianDepth": Object {
                "title": "Median depth",
                "type": "number",
              },
              "percentCoverage": Object {
                "title": "Percent coverage",
                "type": "number",
              },
              "result": Object {
                "title": "Name",
                "type": "string",
              },
              "type": Object {
                "title": "Name",
                "type": "string",
              },
            },
            "type": "object",
          },
          "title": "Phylogenetics",
          "type": "array",
        },
        "probeSets": Object {
          "items": Object {
            "title": "Probe set",
            "type": "string",
          },
          "title": "Probe sets",
          "type": "array",
        },
        "sequenceCalls": Object {
          "title": "Sequence calls",
          "type": "object",
        },
        "susceptitibility": Object {
          "items": Object {
            "calledBy": Object {
              "title": "Called by",
              "type": "object",
            },
            "name": Object {
              "title": "Name",
              "type": "string",
            },
            "prediction": Object {
              "enum": Array [
                "R",
                "S",
              ],
              "title": "Prediction",
              "type": "string",
            },
          },
          "title": "Susceptibility",
          "type": "array",
        },
        "type": Object {
          "title": "Type",
          "type": "string",
        },
        "variantCalls": Object {
          "title": "Variant calls",
          "type": "object",
        },
        "version": Object {
          "title": "Version",
          "type": "object",
        },
      },
      "title": "Result",
      "type": "object",
    },
    "Sample": Object {
      "properties": Object {
        "anatomicalOrigin": Object {
          "enum": Array [
            "Respiratory",
            "Lymph node",
            "CSF",
            "Gastric",
            "Bone",
            "Other known site",
            "Non-respiratory, site not known",
            "Not known",
          ],
          "title": "Anatomical Origin",
          "type": "string",
        },
        "cityIsolate": Object {
          "title": "City Isolate",
          "type": "string",
        },
        "collectionDate": Object {
          "format": "date",
          "title": "Collection Date",
          "type": "string",
        },
        "countryIsolate": Object {
          "enum": Array [
            "Afghanistan",
            "Åland Islands",
            "Albania",
            "Algeria",
            "American Samoa",
            "Andorra",
            "Angola",
            "Anguilla",
            "Antarctica",
            "Antigua and Barbuda",
            "Argentina",
            "Armenia",
            "Aruba",
            "Australia",
            "Austria",
            "Azerbaijan",
            "Bahamas",
            "Bahrain",
            "Bangladesh",
            "Barbados",
            "Belarus",
            "Belgium",
            "Belize",
            "Benin",
            "Bermuda",
            "Bhutan",
            "Bolivia, Plurinational State of",
            "Bonaire, Sint Eustatius and Saba",
            "Bosnia and Herzegovina",
            "Botswana",
            "Bouvet Island",
            "Brazil",
            "British Indian Ocean Territory",
            "Brunei Darussalam",
            "Bulgaria",
            "Burkina Faso",
            "Burundi",
            "Cambodia",
            "Cameroon",
            "Canada",
            "Cape Verde",
            "Cayman Islands",
            "Central African Republic",
            "Chad",
            "Chile",
            "China",
            "Christmas Island",
            "Cocos (Keeling) Islands",
            "Colombia",
            "Comoros",
            "Congo",
            "Congo, the Democratic Republic of the",
            "Cook Islands",
            "Costa Rica",
            "Côte d'Ivoire",
            "Croatia",
            "Cuba",
            "CuraÌ¤ao",
            "Cyprus",
            "Czech Republic",
            "Denmark",
            "Djibouti",
            "Dominica",
            "Dominican Republic",
            "Ecuador",
            "Egypt",
            "El Salvador",
            "Equatorial Guinea",
            "Eritrea",
            "Estonia",
            "Ethiopia",
            "Falkland Islands (Malvinas)",
            "Faroe Islands",
            "Fiji",
            "Finland",
            "France",
            "French Guiana",
            "French Polynesia",
            "French Southern Territories",
            "Gabon",
            "Gambia",
            "Georgia",
            "Germany",
            "Ghana",
            "Gibraltar",
            "Greece",
            "Greenland",
            "Grenada",
            "Guadeloupe",
            "Guam",
            "Guatemala",
            "Guernsey",
            "Guinea",
            "Guinea-Bissau",
            "Guyana",
            "Haiti",
            "Heard Island and McDonald Islands",
            "Holy See (Vatican City State)",
            "Honduras",
            "Hong Kong",
            "Hungary",
            "Iceland",
            "India",
            "Indonesia",
            "Iran, Islamic Republic of",
            "Iraq",
            "Ireland",
            "Isle of Man",
            "Israel",
            "Italy",
            "Jamaica",
            "Japan",
            "Jersey",
            "Jordan",
            "Kazakhstan",
            "Kenya",
            "Kiribati",
            "Korea, Democratic People's Republic of",
            "Korea, Republic of",
            "Kuwait",
            "Kyrgyzstan",
            "Lao People's Democratic Republic",
            "Latvia",
            "Lebanon",
            "Lesotho",
            "Liberia",
            "Libya",
            "Liechtenstein",
            "Lithuania",
            "Luxembourg",
            "Macao",
            "Macedonia, the Former Yugoslav Republic of",
            "Madagascar",
            "Malawi",
            "Malaysia",
            "Maldives",
            "Mali",
            "Malta",
            "Marshall Islands",
            "Martinique",
            "Mauritania",
            "Mauritius",
            "Mayotte",
            "Mexico",
            "Micronesia, Federated States of",
            "Moldova, Republic of",
            "Monaco",
            "Mongolia",
            "Montenegro",
            "Montserrat",
            "Morocco",
            "Mozambique",
            "Myanmar",
            "Namibia",
            "Nauru",
            "Nepal",
            "Netherlands",
            "New Caledonia",
            "New Zealand",
            "Nicaragua",
            "Niger",
            "Nigeria",
            "Niue",
            "Norfolk Island",
            "Northern Mariana Islands",
            "Norway",
            "Oman",
            "Pakistan",
            "Palau",
            "Palestine, State of",
            "Panama",
            "Papua New Guinea",
            "Paraguay",
            "Peru",
            "Philippines",
            "Pitcairn",
            "Poland",
            "Portugal",
            "Puerto Rico",
            "Qatar",
            "Réunion",
            "Romania",
            "Russian Federation",
            "Rwanda",
            "Saint Barthélemy",
            "Saint Helena, Ascension and Tristan da Cunha",
            "Saint Kitts and Nevis",
            "Saint Lucia",
            "Saint Martin (French part)",
            "Saint Pierre and Miquelon",
            "Saint Vincent and the Grenadines",
            "Samoa",
            "San Marino",
            "Sao Tome and Principe",
            "Saudi Arabia",
            "Senegal",
            "Serbia",
            "Seychelles",
            "Sierra Leone",
            "Singapore",
            "Sint Maarten (Dutch part)",
            "Slovakia",
            "Slovenia",
            "Solomon Islands",
            "Somalia",
            "South Africa",
            "South Georgia and the South Sandwich Islands",
            "South Sudan",
            "Spain",
            "Sri Lanka",
            "Sudan",
            "Suriname",
            "Svalbard and Jan Mayen",
            "Swaziland",
            "Sweden",
            "Switzerland",
            "Syrian Arab Republic",
            "Taiwan, Province of China",
            "Tajikistan",
            "Tanzania, United Republic of",
            "Thailand",
            "Timor-Leste",
            "Togo",
            "Tokelau",
            "Tonga",
            "Trinidad and Tobago",
            "Tunisia",
            "Turkey",
            "Turkmenistan",
            "Turks and Caicos Islands",
            "Tuvalu",
            "Uganda",
            "Ukraine",
            "United Arab Emirates",
            "United Kingdom",
            "United States",
            "United States Minor Outlying Islands",
            "Uruguay",
            "Uzbekistan",
            "Vanuatu",
            "Venezuela, Bolivarian Republic of",
            "Viet Nam",
            "Virgin Islands, British",
            "Virgin Islands, U.S.",
            "Wallis and Futuna",
            "Western Sahara",
            "Yemen",
            "Zambia",
            "Zimbabwe",
          ],
          "title": "Country Isolate",
          "type": "string",
        },
        "dateArrived": Object {
          "format": "date",
          "title": "Date Arrived",
          "type": "string",
        },
        "isolateId": Object {
          "title": "Isolate Id",
          "type": "string",
        },
        "labId": Object {
          "title": "Lab Id",
          "type": "string",
        },
        "prospectiveIsolate": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Prospective Isolate",
          "type": "string",
        },
        "smear": Object {
          "enum": Array [
            "Negative",
            "+",
            "++",
            "+++",
            "Not known",
          ],
          "title": "Smear",
          "type": "string",
        },
      },
      "title": "Sample",
      "type": "object",
    },
    "Susceptibility": Object {
      "properties": Object {
        "method": Object {
          "enum": Array [
            "MGIT",
            "LJ",
            "Microtitre plate",
            "MODS",
            "Other",
            "Not known",
          ],
          "title": "Method",
          "type": "string",
        },
        "susceptibility": Object {
          "enum": Array [
            "Sensitive",
            "Resistant",
            "Inconclusive",
            "Not tested",
          ],
          "title": "Susceptible",
          "type": "string",
        },
      },
      "title": "Susceptibility",
      "type": "object",
    },
    "Treatment": Object {
      "properties": Object {
        "continuation": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Continuation Start Date",
        },
        "currentTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Current TB Information",
          "type": "string",
        },
        "intensiveStartDate": Object {
          "format": "date-time",
          "title": "Intensive Start Date",
          "type": "string",
        },
        "intensiveStopDate": Object {
          "format": "date-time",
          "title": "Intensive Stop Date",
          "type": "string",
        },
        "nonStandardTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Non Standard Treatment",
          "type": "string",
        },
        "outsideStandardPhaseAmikacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amikacin",
        },
        "outsideStandardPhaseAmoxicilinClavulanate": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Amoxicilin/Clavulanate",
        },
        "outsideStandardPhaseCapreomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Capreomycin",
        },
        "outsideStandardPhaseClarythromycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clarythromycin",
        },
        "outsideStandardPhaseClofazimine": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Clofazimine",
        },
        "outsideStandardPhaseEthambutol": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethambutol",
        },
        "outsideStandardPhaseEthionamideProthionamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ethionamide/Prothionamide",
        },
        "outsideStandardPhaseGatifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gatifloxacin",
        },
        "outsideStandardPhaseGentamicin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Gentamicin",
        },
        "outsideStandardPhaseHighDoseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "High-dose Isoniazid",
        },
        "outsideStandardPhaseImipenemImipenemcilastatin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Imipenem/Imipenemcilastatin",
        },
        "outsideStandardPhaseIsoniazid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Isoniazid",
        },
        "outsideStandardPhaseLevofloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Levofloxacin",
        },
        "outsideStandardPhaseLinezolid": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Linezolid",
        },
        "outsideStandardPhaseMeropenem": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Meropenem",
        },
        "outsideStandardPhaseMoxifloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Moxifloxacin",
        },
        "outsideStandardPhaseOfloxacin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Ofloxacin",
        },
        "outsideStandardPhasePas": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "PAS",
        },
        "outsideStandardPhasePyrazinamide": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Pyrazinamide",
        },
        "outsideStandardPhaseRifampicinRifabutin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Rifampicin/Rifabutin",
        },
        "outsideStandardPhaseStreptomycin": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Streptomycin",
        },
        "outsideStandardPhaseTerizidone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Terizidone",
        },
        "outsideStandardPhaseThioacetazone": Object {
          "$ref": "#/definitions/DrugPhase",
          "title": "Thioacetazone",
        },
        "previousTbInformation": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Previous TB Information",
          "type": "string",
        },
        "priorTreatmentDate": Object {
          "format": "date-time",
          "title": "Prior Treatment Date",
          "type": "string",
        },
        "recentMdrTb": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Recent MDR TB",
          "type": "string",
        },
        "startProgrammaticContinuationTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "Start Programmatic Continuation Treatment",
          "type": "string",
        },
        "startProgrammaticTreatment": Object {
          "enum": Array [
            "Yes",
            "No",
          ],
          "title": "Start Programmatic Treatment",
          "type": "string",
        },
        "tbProphylaxis": Object {
          "enum": Array [
            "Yes",
            "No",
            "Not known",
          ],
          "title": "TB Prophylaxis",
          "type": "string",
        },
        "tbProphylaxisDate": Object {
          "format": "date-time",
          "title": "TB Prophylaxis Date",
          "type": "string",
        },
      },
      "title": "Treatment",
      "type": "object",
    },
  },
  "properties": Object {
    "metadata": Object {
      "$ref": "#/definitions/Metadata",
    },
  },
  "type": "object",
}
`;
